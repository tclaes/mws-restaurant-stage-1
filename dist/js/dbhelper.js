class DBHelper{static get DATABASE_URL(){return`http://localhost:${1337}/restaurants`}static createIndexedDB(){return'indexedDB'in window?idb.open('restaurantReview',1,function(a){if(!a.objectStoreNames.contains('restaurants')){a.createObjectStore('restaurants',{keyPath:'id'})}}):null}static fetchRestaurants(a){fetch(DBHelper.DATABASE_URL).then((a)=>a.json()).then((b)=>a(null,b))}static saveRestaurantDataLocally(a){return'indexedDB'in window?DBHelper.createIndexedDB().then((b)=>{const c=b.transaction('restaurants','readwrite'),d=c.objectStore('restaurants');return Promise.all(a.map((a)=>d.put(a))).catch(()=>{throw c.abort(),Error('Events were not added to the store')})}):null}static fetchRestaurantById(a,b){DBHelper.fetchRestaurants((c,d)=>{if(c)b(c,null);else{const c=d.find((b)=>b.id==a);c?b(null,c):b('Restaurant does not exist',null)}})}static fetchRestaurantByCuisineAndNeighborhood(a,b,c){DBHelper.fetchRestaurants((d,e)=>{if(d)c(d,null);else{let d=e;'all'!=a&&(d=d.filter((b)=>b.cuisine_type==a)),'all'!=b&&(d=d.filter((a)=>a.neighborhood==b)),c(null,d)}})}static fetchNeighborhoods(a){DBHelper.fetchRestaurants((b,c)=>{if(b)a(b,null);else{const b=c.map((a,b)=>c[b].neighborhood),d=b.filter((a,c)=>b.indexOf(a)==c);a(null,d)}})}static fetchCuisines(a){DBHelper.fetchRestaurants((b,c)=>{if(b)a(b,null);else{const b=c.map((a,b)=>c[b].cuisine_type),d=b.filter((a,c)=>b.indexOf(a)==c);a(null,d)}})}static urlForRestaurant(a){return`./restaurant.html?id=${a.id}`}static imageUrlForRestaurant(a){return`/images/${a.id}`}static mapMarkerForRestaurant(a,b){const c=new google.maps.Marker({position:a.latlng,title:a.name,url:DBHelper.urlForRestaurant(a),map:b,animation:google.maps.Animation.DROP});return c}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIl0sIm5hbWVzIjpbIkRCSGVscGVyIiwiREFUQUJBU0VfVVJMIiwicG9ydCIsImNyZWF0ZUluZGV4ZWREQiIsIndpbmRvdyIsImlkYiIsInVwZ3JhZGVEYiIsImZldGNoUmVzdGF1cmFudHMiLCJjYWxsYmFjayIsInJlc3BvbnNlIiwic2F2ZVJlc3RhdXJhbnREYXRhTG9jYWxseSIsInJlc3RhdXJhbnQiLCJ0aGVuIiwidHgiLCJkYiIsInRyYW5zYWN0aW9uIiwic3RvcmUiLCJvYmplY3RTdG9yZSIsIlByb21pc2UiLCJhbGwiLCJFcnJvciIsImZldGNoUmVzdGF1cmFudEJ5Q3Vpc2luZUFuZE5laWdoYm9yaG9vZCIsImVycm9yIiwiY3Vpc2luZSIsInJlc3VsdHMiLCJmZXRjaE5laWdoYm9yaG9vZHMiLCJyZXN0YXVyYW50cyIsImZldGNoQ3Vpc2luZXMiLCJtYXBNYXJrZXJGb3JSZXN0YXVyYW50IiwibWFya2VyIiwiZ29vZ2xlIiwiTWFya2VyIiwidGl0bGUiLCJ1cmwiXSwibWFwcGluZ3MiOiJBQUdBLEtBQUEsQUFBTUEsU0FBUyxBQUViLEFBSUEsV0FBQSxBQUFXQyxlQUFlLEFBQ3hCLEFBQU1DLENBQ0UsTUFBbUJBLEFBQUssb0JBRGhDLEFBQWEsQUFDYixJQUFBLEFBQ0QsY0FFRCxPQUFBLEFBQU9DLGtCQUFrQixBQUNyQixBQUFNLE9BQUEsYUFBTixBQUFNLEFBQWVDLEFBQVMsUUFBUSxJQUFBLEFBQVAsS0FBTyxBQUFQLG1CQUFPLEFBQVAsRUFBQSxXQUFBLEFBQWEsSUFBQSxDQUFBLEVBQUEsaUJBQUEsU0FBQSxlQUFBLEFBQ3JDQyxBQUFTLENBQUEsRUFBQSxBQUF1QixrQkFBdkIsQUFBdUIsY0FBb0IsQ0FBQSxRQUFwREEsQUFBUyxBQUEyQyxBQUNsREMsTUFDRCxDQUh1QixBQUFPLEFBSWpDLEdBSnlCLEFBQUMsSUFNbEMsQUFLRCxPQUFBLEFBQU8sQUFBaUIsb0JBQVUsQUFDOUIsT0FBTSxTQUFOLEFBQWUsY0FBZixB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QUFKbkMsb0JBQ3dDLEFBRGpDb0IsQUFDTCxnQkFBTUMsT0FBQUEsQUFBYUMsS0FBYkQsQUFBYUMsVUFBbkIsQUFBZSxBQUF1QixBQUFQQyxBQUU3QkMsT0FBQUEsQUFDQUMsUUEzSVMiLCJmaWxlIjoiZGJoZWxwZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29tbW9uIGRhdGFiYXNlIGhlbHBlciBmdW5jdGlvbnMuXHJcbiAqL1xyXG5jbGFzcyBEQkhlbHBlciB7XHJcblxyXG4gIC8qKlxyXG4gICAqIERhdGFiYXNlIFVSTC5cclxuICAgKiBDaGFuZ2UgdGhpcyB0byByZXN0YXVyYW50cy5qc29uIGZpbGUgbG9jYXRpb24gb24geW91ciBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBEQVRBQkFTRV9VUkwoKSB7XHJcbiAgICBjb25zdCBwb3J0ID0gMTMzNztcclxuICAgIHJldHVybiBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L3Jlc3RhdXJhbnRzYDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVJbmRleGVkREIoKSB7XHJcbiAgICAgIGlmICghKCdpbmRleGVkREInIGluIHdpbmRvdykpIHtyZXR1cm4gbnVsbDt9XHJcbiAgICAgIHJldHVybiBpZGIub3BlbigncmVzdGF1cmFudFJldmlldycsIDEsIGZ1bmN0aW9uKHVwZ3JhZGVEYikge1xyXG4gICAgICAgICAgaWYgKCF1cGdyYWRlRGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygncmVzdGF1cmFudHMnKSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHJlc3RhdXJhbnRPUyA9IHVwZ3JhZGVEYi5jcmVhdGVPYmplY3RTdG9yZSgncmVzdGF1cmFudHMnLCB7a2V5UGF0aDogJ2lkJ30pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIGFsbCByZXN0YXVyYW50cy5cclxuICAgKi9cclxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50cyhjYWxsYmFjaykge1xyXG4gICAgICBmZXRjaChEQkhlbHBlci5EQVRBQkFTRV9VUkwpXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAudGhlbihyZXN0YXVyYW50cyA9PiBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50cykpO1xyXG4gIH1cclxuXHJcbiAgICBzdGF0aWMgc2F2ZVJlc3RhdXJhbnREYXRhTG9jYWxseShyZXN0YXVyYW50KSB7XHJcbiAgICAgICAgaWYgKCEoJ2luZGV4ZWREQicgaW4gd2luZG93KSkge3JldHVybiBudWxsO31cclxuICAgICAgICByZXR1cm4gREJIZWxwZXIuY3JlYXRlSW5kZXhlZERCKCkudGhlbihkYiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oJ3Jlc3RhdXJhbnRzJywgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdyZXN0YXVyYW50cycpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdGF1cmFudC5tYXAoZXZlbnQgPT4gc3RvcmUucHV0KGV2ZW50KSkpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR4LmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0V2ZW50cyB3ZXJlIG5vdCBhZGRlZCB0byB0aGUgc3RvcmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAvKipcclxuICAgKiBGZXRjaCBhIHJlc3RhdXJhbnQgYnkgaXRzIElELlxyXG4gICAqL1xyXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUlkKGlkLCBjYWxsYmFjaykge1xyXG4gICAgLy8gZmV0Y2ggYWxsIHJlc3RhdXJhbnRzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxyXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCByZXN0YXVyYW50ID0gcmVzdGF1cmFudHMuZmluZChyID0+IHIuaWQgPT0gaWQpO1xyXG4gICAgICAgIGlmIChyZXN0YXVyYW50KSB7IC8vIEdvdCB0aGUgcmVzdGF1cmFudFxyXG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudCk7XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gUmVzdGF1cmFudCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgICAgIGNhbGxiYWNrKCdSZXN0YXVyYW50IGRvZXMgbm90IGV4aXN0JywgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSBhbmQgYSBuZWlnaGJvcmhvb2Qgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXHJcbiAgICovXHJcbiAgc3RhdGljIGZldGNoUmVzdGF1cmFudEJ5Q3Vpc2luZUFuZE5laWdoYm9yaG9vZChjdWlzaW5lLCBuZWlnaGJvcmhvb2QsIGNhbGxiYWNrKSB7XHJcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcclxuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdHMgPSByZXN0YXVyYW50c1xyXG4gICAgICAgIGlmIChjdWlzaW5lICE9ICdhbGwnKSB7IC8vIGZpbHRlciBieSBjdWlzaW5lXHJcbiAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLmN1aXNpbmVfdHlwZSA9PSBjdWlzaW5lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5laWdoYm9yaG9vZCAhPSAnYWxsJykgeyAvLyBmaWx0ZXIgYnkgbmVpZ2hib3Job29kXHJcbiAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLm5laWdoYm9yaG9vZCA9PSBuZWlnaGJvcmhvb2QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGZXRjaCBhbGwgbmVpZ2hib3Job29kcyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cclxuICAgKi9cclxuICBzdGF0aWMgZmV0Y2hOZWlnaGJvcmhvb2RzKGNhbGxiYWNrKSB7XHJcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcclxuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gR2V0IGFsbCBuZWlnaGJvcmhvb2RzIGZyb20gYWxsIHJlc3RhdXJhbnRzXHJcbiAgICAgICAgY29uc3QgbmVpZ2hib3Job29kcyA9IHJlc3RhdXJhbnRzLm1hcCgodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0ubmVpZ2hib3Job29kKTtcclxuICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIG5laWdoYm9yaG9vZHNcclxuICAgICAgICBjb25zdCB1bmlxdWVOZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcy5maWx0ZXIoKHYsIGkpID0+IG5laWdoYm9yaG9vZHMuaW5kZXhPZih2KSA9PSBpKVxyXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHVuaXF1ZU5laWdoYm9yaG9vZHMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIGFsbCBjdWlzaW5lcyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cclxuICAgKi9cclxuICBzdGF0aWMgZmV0Y2hDdWlzaW5lcyhjYWxsYmFjaykge1xyXG4gICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXHJcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEdldCBhbGwgY3Vpc2luZXMgZnJvbSBhbGwgcmVzdGF1cmFudHNcclxuICAgICAgICBjb25zdCBjdWlzaW5lcyA9IHJlc3RhdXJhbnRzLm1hcCgodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0uY3Vpc2luZV90eXBlKVxyXG4gICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gY3Vpc2luZXNcclxuICAgICAgICBjb25zdCB1bmlxdWVDdWlzaW5lcyA9IGN1aXNpbmVzLmZpbHRlcigodiwgaSkgPT4gY3Vpc2luZXMuaW5kZXhPZih2KSA9PSBpKVxyXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHVuaXF1ZUN1aXNpbmVzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXN0YXVyYW50IHBhZ2UgVVJMLlxyXG4gICAqL1xyXG4gIHN0YXRpYyB1cmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpIHtcclxuICAgIHJldHVybiAoYC4vcmVzdGF1cmFudC5odG1sP2lkPSR7cmVzdGF1cmFudC5pZH1gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc3RhdXJhbnQgaW1hZ2UgVVJMLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkge1xyXG4gICAgcmV0dXJuIChgL2ltYWdlcy8ke3Jlc3RhdXJhbnQuaWR9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYXAgbWFya2VyIGZvciBhIHJlc3RhdXJhbnQuXHJcbiAgICovXHJcbiAgc3RhdGljIG1hcE1hcmtlckZvclJlc3RhdXJhbnQocmVzdGF1cmFudCwgbWFwKSB7XHJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgcG9zaXRpb246IHJlc3RhdXJhbnQubGF0bG5nLFxyXG4gICAgICB0aXRsZTogcmVzdGF1cmFudC5uYW1lLFxyXG4gICAgICB1cmw6IERCSGVscGVyLnVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCksXHJcbiAgICAgIG1hcDogbWFwLFxyXG4gICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBtYXJrZXI7XHJcbiAgfVxyXG59Il19
